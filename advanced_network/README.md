# 高階網路設定

>注意：本章屬於 `Docker` 高階設定，如果您是初學者，您可以暫時跳過本章節，直接學習 [Docker Compose](../compose) 一節。

本章將介紹 Docker 的一些高階網路設定和選項。

當 Docker 啟動時，會自動在主機上建立一個 `docker0` 虛擬網橋，實際上是 Linux 的一個 bridge，可以理解為一個軟體交換機。它會在掛載到它的網口之間進行轉發。

同時，Docker 隨機分配一個本地未佔用的私有網段（在 [RFC1918](https://datatracker.ietf.org/doc/html/rfc1918) 中定義）中的一個地址給 `docker0` 介面。比如典型的 `172.17.42.1`，掩碼為 `255.255.0.0`。此後啟動的容器內的網口也會自動分配一個同一網段（`172.17.0.0/16`）的地址。

當建立一個 Docker 容器的時候，同時會建立了一對 `veth pair` 介面（當資料套件傳送到一個介面時，另外一個介面也可以收到相同的資料套件）。這對接口一端在容器內，即 `eth0`；另一端在本地並被掛載到 `docker0` 網橋，名稱以 `veth` 開頭（例如 `vethAQI2QT`）。透過這種方式，主機可以跟容器通訊，容器之間也可以相互通訊。Docker 就建立了在主機和所有容器之間一個虛擬共享網路。

![Docker 網路](./_images/network.png)

接下來的部分將介紹在一些場景中，Docker 所有的網路定製設定。以及透過 Linux 指令來調整、補充、甚至替換 Docker 預設的網路設定。

## 10.2 使用 buildx 建立映象

### 10.2.1 使用

Buildx 的使用非常直觀，絕大多數情況下可以替代 `docker build` 指令。

你可以直接使用 `docker buildx build` 指令建立映象。

```bash
$ docker buildx build .
[+] Building 8.4s (23/32)
 => ...
```

Buildx 使用 [BuildKit 引擎](10.1_buildkit.md)進行建立，支援許多新的功能，具體參考 [Buildkit](10.1_buildkit.md) 一節。

#### 使用 `bake`

`docker buildx bake` 是一個高階建立指令，支援從 HCL、JSON 或 Compose 檔案中定義建立目標，實現複雜的流水線建立。

```bash
## 從 Compose 檔案建立所有服務

$ docker buildx bake

## 僅建立指定目標

$ docker buildx bake web
```

#### 生成 SBOM

Buildx 支援在建立時直接生成 SBOM (Software Bill of Materials)，這對於軟體供應鏈安全至關重要。

```bash
$ docker buildx build --sbom=true -t myimage .
```

該指令會在建立結果中包含 SPDX 或 CycloneDX 格式的 SBOM 資料。

### 10.2.2 官方文件

* https://docs.docker.com/engine/reference/commandline/buildx/
